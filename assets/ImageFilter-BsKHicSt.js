import{b as P,u as $,j as e}from"./index-CjcMs8T3.js";import{r}from"./vendor-CX2mysxk.js";import{B as h}from"./button-7J-vtqLr.js";import{I as c}from"./input-Sl65HlNB.js";import{S as L,a as V,b as G,c as H,d as W}from"./select-C5VgsRWt.js";import{C as v,a as N,b as w,c as y,d as S}from"./card-D2uq1LWq.js";import{A as _}from"./arrow-left-Cqdtw2X2.js";import{I as q}from"./image-DAOeizdb.js";import{U as z}from"./upload-eVVNaMx6.js";import{D as J}from"./download-1AJ-PecF.js";import"./check-CsUbEkEW.js";const le=()=>{const[i,C]=r.useState(null),[n,g]=r.useState(""),[o,F]=r.useState("none"),[m,I]=r.useState(100),[d,k]=r.useState(100),[u,B]=r.useState(0),[p,D]=r.useState(""),j=r.useRef(null),{toast:f}=P(),R=$(),U=[{value:"none",label:"No Filter"},{value:"grayscale",label:"Grayscale"},{value:"sepia",label:"Sepia"},{value:"invert",label:"Invert"},{value:"custom",label:"Custom (Brightness/Contrast/Blur)"}],A=s=>{var l;const t=(l=s.target.files)==null?void 0:l[0];if(t&&t.type.startsWith("image/")){C(t),g("");const a=new FileReader;a.onload=x=>{var b;D((b=x.target)==null?void 0:b.result)},a.readAsDataURL(t)}else f({title:"Error",description:"Please select a valid image file"})},T=()=>{if(!i||!p)return;const s=j.current,t=s==null?void 0:s.getContext("2d"),l=new window.Image;l.onload=()=>{if(!s||!t)return;s.width=l.width,s.height=l.height;let a="";switch(o){case"grayscale":a="grayscale(100%)";break;case"sepia":a="sepia(100%)";break;case"invert":a="invert(100%)";break;case"custom":a=`brightness(${m}%) contrast(${d}%) blur(${u}px)`;break;default:a="none"}t.filter=a,t.drawImage(l,0,0);const x=s.toDataURL("image/png");g(x),f({title:"Success!",description:"Filter applied successfully"})},l.src=p},E=()=>{if(n){const s=document.createElement("a");s.href=n,s.download=`filtered_${(i==null?void 0:i.name)||"image.png"}`,s.click()}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(h,{onClick:()=>R("/categories/image-tools"),variant:"outline",className:"mb-4",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Back to Image Tools"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(q,{className:"h-12 w-12 mx-auto mb-4 text-purple-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Image Filter"}),e.jsx("p",{className:"text-gray-600",children:"Apply filters and effects to images"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(w,{children:"Upload & Filter Settings"}),e.jsx(y,{children:"Select an image and choose filter options"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Image"}),e.jsx(c,{type:"file",accept:"image/*",onChange:A,className:"cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Filter Type"}),e.jsxs(L,{value:o,onValueChange:F,children:[e.jsx(V,{children:e.jsx(G,{placeholder:"Select filter"})}),e.jsx(H,{children:U.map(s=>e.jsx(W,{value:s.value,children:s.label},s.value))})]})]}),o==="custom"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Brightness: ",m,"%"]}),e.jsx(c,{type:"range",min:"0",max:"200",value:m,onChange:s=>I(Number(s.target.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Contrast: ",d,"%"]}),e.jsx(c,{type:"range",min:"0",max:"200",value:d,onChange:s=>k(Number(s.target.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Blur: ",u,"px"]}),e.jsx(c,{type:"range",min:"0",max:"10",value:u,onChange:s=>B(Number(s.target.value))})]})]}),e.jsxs(h,{onClick:T,disabled:!i,className:"w-full",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Apply Filter"]})]})]}),e.jsxs(v,{children:[e.jsxs(N,{children:[e.jsx(w,{children:"Filtered Result"}),e.jsx(y,{children:"Preview and download filtered image"})]}),e.jsxs(S,{className:"space-y-4",children:[n?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:n,alt:"Filtered",className:"max-w-full h-auto border rounded"}),e.jsxs(h,{onClick:E,className:"w-full",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Download Filtered Image"]})]}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 border border-dashed rounded",children:"Filtered image will appear here"}),e.jsx("canvas",{ref:j,style:{display:"none"}})]})]})]})]})})};export{le as default};
