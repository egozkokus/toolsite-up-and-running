import{b as B,j as e}from"./index-CjcMs8T3.js";import{r as n}from"./vendor-CX2mysxk.js";import{B as N}from"./button-7J-vtqLr.js";import{I as R}from"./input-Sl65HlNB.js";import{L as j}from"./label-p-9KElei.js";import{C as I,a as C,b,c as y,d as S}from"./card-D2uq1LWq.js";import{I as E}from"./image-DAOeizdb.js";import{U as H}from"./upload-eVVNaMx6.js";import{D as P}from"./download-1AJ-PecF.js";const V=()=>{const[l,z]=n.useState(null),[d,U]=n.useState(""),[h,m]=n.useState(800),[g,x]=n.useState(600),[u,k]=n.useState(!0),[i,D]=n.useState({width:0,height:0}),p=n.useRef(null),f=n.useRef(null),{toast:L}=B(),F=s=>{var r;const t=(r=s.target.files)==null?void 0:r[0];if(t){z(t);const c=new FileReader;c.onload=o=>{var w,v;const a=new window.Image;a.onload=()=>{D({width:a.width,height:a.height}),m(a.width),x(a.height)},a.src=(w=o.target)==null?void 0:w.result,U((v=o.target)==null?void 0:v.result)},c.readAsDataURL(t)}},M=s=>{if(m(s),u&&i.width>0){const t=i.height/i.width;x(Math.round(s*t))}},O=s=>{if(x(s),u&&i.height>0){const t=i.width/i.height;m(Math.round(s*t))}},A=()=>{if(!l||!p.current)return;const s=p.current,t=s.getContext("2d");if(!t)return;const r=new window.Image;r.onload=()=>{s.width=h,s.height=g,t.drawImage(r,0,0,h,g),s.toBlob(c=>{if(c){const o=URL.createObjectURL(c),a=document.createElement("a");a.href=o,a.download=`resized_${l.name}`,a.click(),URL.revokeObjectURL(o),L({title:"Success!",description:"Image resized and downloaded"})}},l.type)},r.src=d};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(E,{className:"h-12 w-12 mx-auto mb-4 text-blue-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Image Resizer"}),e.jsx("p",{className:"text-gray-600",children:"Resize your images to custom dimensions"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(I,{children:[e.jsxs(C,{children:[e.jsx(b,{children:"Upload Image"}),e.jsx(y,{children:"Select an image to resize"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:F,className:"hidden"}),e.jsxs(N,{onClick:()=>{var s;return(s=f.current)==null?void 0:s.click()},variant:"outline",className:"w-full",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Choose Image"]}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:d,alt:"Preview",className:"max-w-full h-auto rounded border"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Original: ",i.width," Ã— ",i.height,"px"]})]})]})]}),e.jsxs(I,{children:[e.jsxs(C,{children:[e.jsx(b,{children:"Resize Settings"}),e.jsx(y,{children:"Configure new dimensions"})]}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"width",children:"Width (px)"}),e.jsx(R,{id:"width",type:"number",value:h,onChange:s=>M(parseInt(s.target.value)||0)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"height",children:"Height (px)"}),e.jsx(R,{id:"height",type:"number",value:g,onChange:s=>O(parseInt(s.target.value)||0)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"aspectRatio",checked:u,onChange:s=>k(s.target.checked)}),e.jsx(j,{htmlFor:"aspectRatio",children:"Maintain aspect ratio"})]}),e.jsxs(N,{onClick:A,className:"w-full",disabled:!l,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Resize & Download"]})]})]})]}),e.jsx("canvas",{ref:p,className:"hidden"})]})})};export{V as default};
