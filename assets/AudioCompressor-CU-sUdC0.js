import{c as D,b as I,u as E,j as e}from"./index-CjcMs8T3.js";import{r as c}from"./vendor-CX2mysxk.js";import{B as j}from"./button-7J-vtqLr.js";import{I as G}from"./input-Sl65HlNB.js";import{C as u,a as p,b as g,c as w,d as N}from"./card-D2uq1LWq.js";import{S as R}from"./slider-Ckku4-Xs.js";import{A as T}from"./arrow-left-Cqdtw2X2.js";import{V as C}from"./volume-2-DvzRStkB.js";import{D as V}from"./download-1AJ-PecF.js";import"./index-yvmUaigQ.js";import"./index-CJs8uJ3c.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=D("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),Y=()=>{const[l,F]=c.useState(null),[n,k]=c.useState([50]),[f,m]=c.useState(!1),[x,v]=c.useState(null),[a,z]=c.useState(0),[h,b]=c.useState(0),{toast:i}=I(),B=E(),M=s=>{var r;const t=(r=s.target.files)==null?void 0:r[0];t&&t.type.startsWith("audio/")?(F(t),z(t.size),v(null),b(0)):i({title:"שגיאה",description:"אנא בחר קובץ אודיו תקין"})},A=async()=>{if(!l){i({title:"שגיאה",description:"אנא בחר קובץ אודיו קודם"});return}m(!0),i({title:"דוחס...",description:"דוחס את קובץ האודיו"});try{await new Promise(o=>setTimeout(o,3e3));const s=n[0]/100,t=a*(1-s*.8);b(t);const r=new FileReader;r.onload=()=>{v(r.result),m(!1),i({title:"הושלם!",description:`הקובץ נדחס ב-${((a-t)/a*100).toFixed(1)}%`})},r.readAsDataURL(l)}catch{m(!1),i({title:"שגיאה",description:"שגיאה בדחיסת הקובץ"})}},L=()=>{if(x&&l){const s=document.createElement("a");s.href=x,s.download=`compressed_${l.name}`,s.click(),i({title:"הורד בהצלחה!",description:"הקובץ הדחוס נשמר"})}},d=s=>{if(s===0)return"0 B";const t=1024,r=["B","KB","MB","GB"],o=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,o)).toFixed(2))+" "+r[o]},y=(s=>s<30?{label:"איכות גבוהה",color:"text-green-600"}:s<70?{label:"איכות בינונית",color:"text-yellow-600"}:{label:"דחיסה מקסימלית",color:"text-red-600"})(n[0]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(j,{onClick:()=>B("/categories/audio-tools"),variant:"outline",className:"mb-4",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"חזרה לכלי אודיו"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(C,{className:"h-12 w-12 mx-auto mb-4 text-green-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"דוחס אודיו"}),e.jsx("p",{className:"text-gray-600",children:"דחוס קבצי אודיו להקטנת הגודל"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx(g,{children:"העלה קובץ אודיו"}),e.jsx(w,{children:"בחר קובץ אודיו לדחיסה"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsx(G,{type:"file",accept:"audio/*",onChange:M,className:"cursor-pointer"}),l&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded border",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-4 w-4 mr-2 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:l.name})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["גודל מקורי: ",d(a)]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"רמת דחיסה"}),e.jsx("span",{className:`text-sm font-medium ${y.color}`,children:y.label})]}),e.jsx(R,{value:n,onValueChange:k,max:90,min:10,step:5,className:"mb-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"איכות גבוהה"}),e.jsxs("span",{children:[n[0],"%"]}),e.jsx("span",{children:"דחיסה מקסימלית"})]})]}),e.jsxs(j,{onClick:A,disabled:!l||f,className:"w-full",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),f?"דוחס...":"התחל דחיסה"]})]})]}),e.jsxs(u,{children:[e.jsxs(p,{children:[e.jsx(g,{children:"תוצאות דחיסה"}),e.jsx(w,{children:"מידע על הקובץ הדחוס"})]}),e.jsx(N,{children:x?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"גודל מקורי"}),e.jsx("div",{className:"text-lg font-bold",children:d(a)})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"גודל דחוס"}),e.jsx("div",{className:"text-lg font-bold",children:d(h)})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"שיעור דחיסה"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((a-h)/a*100).toFixed(1),"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["חסכון של ",d(a-h)]})]}),e.jsxs(j,{onClick:L,className:"w-full",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"הורד קובץ דחוס"]})]}):e.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-400 border border-dashed rounded",children:[e.jsx(S,{className:"h-12 w-12 mb-2"}),e.jsx("div",{children:"תוצאות הדחיסה יופיעו כאן"})]})})]})]}),e.jsxs(u,{className:"mt-6",children:[e.jsx(p,{children:e.jsx(g,{children:"מדריך דחיסה"})}),e.jsx(N,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[e.jsx("div",{className:"font-medium text-green-800",children:"איכות גבוהה (10-30%)"}),e.jsx("div",{className:"text-green-700",children:"דחיסה מינימלית, איכות מעולה"})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded",children:[e.jsx("div",{className:"font-medium text-yellow-800",children:"איכות בינונית (30-70%)"}),e.jsx("div",{className:"text-yellow-700",children:"איזון בין איכות לגודל"})]}),e.jsxs("div",{className:"p-3 bg-red-50 rounded",children:[e.jsx("div",{className:"font-medium text-red-800",children:"דחיסה מקסימלית (70-90%)"}),e.jsx("div",{className:"text-red-700",children:"גודל מינימלי, איכות נמוכה יותר"})]})]})})]})]})})};export{Y as default};
