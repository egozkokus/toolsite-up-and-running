import{c as D,b as E,u as T,j as e}from"./index-CjcMs8T3.js";import{r}from"./vendor-CX2mysxk.js";import{B as m}from"./button-7J-vtqLr.js";import{I as $}from"./input-Sl65HlNB.js";import{C as g,a as N,b as w,c as y,d as C}from"./card-D2uq1LWq.js";import{S as B}from"./slider-Ckku4-Xs.js";import{S as O,a as U,b as H,c as W,d as x}from"./select-C5VgsRWt.js";import{A as _}from"./arrow-left-Cqdtw2X2.js";import{P as S}from"./play-CbDzydzd.js";import{P as q}from"./pause-ozMzQm9i.js";import{D as k}from"./download-1AJ-PecF.js";import"./index-yvmUaigQ.js";import"./index-CJs8uJ3c.js";import"./check-CsUbEkEW.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=D("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ne=()=>{const[s,M]=r.useState(null),[i,P]=r.useState([50]),[h,V]=r.useState("mp4"),[f,p]=r.useState(!1),[c,v]=r.useState(null),[n,u]=r.useState(!1),o=r.useRef(null),{toast:l}=E(),L=T(),I=t=>{var d;const a=(d=t.target.files)==null?void 0:d[0];a&&a.type.startsWith("video/")?(M(a),v(null),u(!1)):l({title:"שגיאה",description:"אנא בחר קובץ וידיאו תקין"})},R=()=>{o.current&&(n?o.current.pause():o.current.play(),u(!n))},z=async()=>{if(!s){l({title:"שגיאה",description:"אנא בחר קובץ וידיאו קודם"});return}p(!0),l({title:"דוחס...",description:"דוחס את הוידיאו"});try{await new Promise(a=>setTimeout(a,5e3));const t=new FileReader;t.onload=()=>{v(t.result),p(!1);const a=s.size,d=a*(1-i[0]/100),A=((a-d)/a*100).toFixed(1);l({title:"הושלם!",description:`הוידיאו נדחס ב-${A}%`})},t.readAsDataURL(s)}catch{p(!1),l({title:"שגיאה",description:"שגיאה בדחיסת הוידיאו"})}},F=()=>{if(c&&s){const t=document.createElement("a");t.href=c,t.download=`compressed_${s.name.split(".")[0]}.${h}`,t.click(),l({title:"הורד בהצלחה!",description:"הוידיאו הדחוס נשמר"})}},b=(t=>t<30?{label:"קל",color:"text-green-600"}:t<70?{label:"בינוני",color:"text-yellow-600"}:{label:"חזק",color:"text-red-600"})(i[0]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs(m,{onClick:()=>L("/categories/video-tools"),variant:"outline",className:"mb-4",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"חזרה לכלי וידיאו"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(j,{className:"h-12 w-12 mx-auto mb-4 text-purple-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"דוחס וידיאו"}),e.jsx("p",{className:"text-gray-600",children:"הקטן את גודל קובצי הוידיאו שלך"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(g,{children:[e.jsxs(N,{children:[e.jsx(w,{children:"וידיאו מקורי"}),e.jsx(y,{children:"העלה וידיאו לדחיסה"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsx($,{type:"file",accept:"video/*",onChange:I,className:"cursor-pointer"}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded border",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-4 w-4 mr-2 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:s.name})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(s.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx("video",{ref:o,src:URL.createObjectURL(s),className:"w-full max-h-48 bg-black rounded",onEnded:()=>u(!1)}),e.jsxs(m,{onClick:R,variant:"outline",className:"w-full",children:[n?e.jsx(q,{className:"h-4 w-4 mr-2"}):e.jsx(S,{className:"h-4 w-4 mr-2"}),n?"עצור":"נגן"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"רמת דחיסה"}),e.jsx("span",{className:`text-sm font-medium ${b.color}`,children:b.label})]}),e.jsx(B,{value:i,onValueChange:P,max:90,min:10,step:5,className:"mb-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"איכות גבוהה"}),e.jsxs("span",{children:[i[0],"%"]}),e.jsx("span",{children:"גודל קטן"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"פורמט יצוא"}),e.jsxs(O,{value:h,onValueChange:V,children:[e.jsx(U,{children:e.jsx(H,{})}),e.jsxs(W,{children:[e.jsx(x,{value:"mp4",children:"MP4"}),e.jsx(x,{value:"webm",children:"WebM"}),e.jsx(x,{value:"avi",children:"AVI"}),e.jsx(x,{value:"mov",children:"MOV"})]})]})]}),e.jsxs(m,{onClick:z,disabled:!s||f,className:"w-full",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),f?"דוחס...":"דחס וידיאו"]})]})]}),e.jsxs(g,{children:[e.jsxs(N,{children:[e.jsx(w,{children:"וידיאו דחוס"}),e.jsx(y,{children:"תוצאת הדחיסה"})]}),e.jsx(C,{children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-4 w-4 mr-2 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:["compressed_",s==null?void 0:s.name.split(".")[0],".",h]})]}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["✓ דחיסה הושלמה ברמה של ",i[0],"%"]})]}),e.jsx("video",{src:c,controls:!0,className:"w-full max-h-48 bg-black rounded"}),e.jsxs(m,{onClick:F,className:"w-full",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"הורד וידיאו דחוס"]})]}):e.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-400 border border-dashed rounded",children:[e.jsx(j,{className:"h-12 w-12 mb-2"}),e.jsx("div",{children:"הוידיאו הדחוס יופיע כאן"})]})})]})]})]})})};export{ne as default};
