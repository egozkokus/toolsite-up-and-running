import{c as E,b as L,u as M,j as e}from"./index-CjcMs8T3.js";import{r}from"./vendor-CX2mysxk.js";import{B as x}from"./button-7J-vtqLr.js";import{I as h}from"./input-Sl65HlNB.js";import{C as f,a as b,b as N,c as C,d as w}from"./card-D2uq1LWq.js";import{A as U}from"./arrow-left-Cqdtw2X2.js";import{D as W}from"./download-1AJ-PecF.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=E("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]),Y=()=>{const[c,y]=r.useState(null),[o,g]=r.useState(""),[i,I]=r.useState(300),[l,k]=r.useState(300),[n,S]=r.useState(""),u=r.useRef(null),{toast:j}=L(),D=M(),R=s=>{var a;const t=(a=s.target.files)==null?void 0:a[0];if(t&&t.type.startsWith("image/")){y(t),g("");const d=new FileReader;d.onload=p=>{var m;S((m=p.target)==null?void 0:m.result)},d.readAsDataURL(t)}else j({title:"Error",description:"Please select a valid image file"})},H=()=>{if(!c||!n)return;const s=u.current,t=s==null?void 0:s.getContext("2d"),a=new window.Image;a.onload=()=>{if(!s||!t)return;s.width=i,s.height=l;const d=Math.max(0,(a.width-i)/2),p=Math.max(0,(a.height-l)/2);t.drawImage(a,d,p,i,l,0,0,i,l);const m=s.toDataURL("image/png");g(m),j({title:"Success!",description:"Image cropped successfully"})},a.src=n},P=()=>{if(o){const s=document.createElement("a");s.href=o,s.download=`cropped_${(c==null?void 0:c.name)||"image.png"}`,s.click()}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(x,{onClick:()=>D("/categories/image-tools"),variant:"outline",className:"mb-4",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Back to Image Tools"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(v,{className:"h-12 w-12 mx-auto mb-4 text-purple-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Image Cropper"}),e.jsx("p",{className:"text-gray-600",children:"Crop images to specific dimensions"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsx(N,{children:"Upload & Settings"}),e.jsx(C,{children:"Select an image and set crop dimensions"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Image"}),e.jsx(h,{type:"file",accept:"image/*",onChange:R,className:"cursor-pointer"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Width (px)"}),e.jsx(h,{type:"number",value:i,onChange:s=>I(Number(s.target.value)),min:"10",max:"2000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Height (px)"}),e.jsx(h,{type:"number",value:l,onChange:s=>k(Number(s.target.value)),min:"10",max:"2000"})]})]}),n&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Preview:"}),e.jsx("img",{src:n,alt:"Original",className:"max-w-full h-32 object-contain border rounded"})]}),e.jsxs(x,{onClick:H,disabled:!c,className:"w-full",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Crop Image"]})]})]}),e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsx(N,{children:"Cropped Result"}),e.jsx(C,{children:"Preview and download cropped image"})]}),e.jsxs(w,{className:"space-y-4",children:[o?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:o,alt:"Cropped",className:"max-w-full h-auto border rounded"}),e.jsxs(x,{onClick:P,className:"w-full",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Download Cropped Image"]})]}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 border border-dashed rounded",children:"Cropped image will appear here"}),e.jsx("canvas",{ref:u,style:{display:"none"}})]})]})]})]})})};export{Y as default};
