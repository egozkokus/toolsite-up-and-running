import{b as F,u as k,j as e}from"./index-CjcMs8T3.js";import{r as i}from"./vendor-CX2mysxk.js";import{B as d}from"./button-7J-vtqLr.js";import{I as R}from"./input-Sl65HlNB.js";import{C as o,a as m,b as x,c as N,d as h}from"./card-D2uq1LWq.js";import{S as D,a as I,b as T,c as B,d as E}from"./select-C5VgsRWt.js";import{A as L}from"./arrow-left-Cqdtw2X2.js";import{F as u}from"./file-audio-D8FYA-MA.js";import{R as M}from"./refresh-cw-v1gAATYz.js";import{D as b}from"./download-1AJ-PecF.js";import"./check-CsUbEkEW.js";const K=()=>{const[a,f]=i.useState(null),[r,C]=i.useState("mp3"),[j,c]=i.useState(!1),[n,p]=i.useState(null),{toast:t}=F(),w=k(),v=[{value:"mp3",label:"MP3",description:"פורמט דחוס פופולרי"},{value:"wav",label:"WAV",description:"איכות גבוהה, לא דחוס"},{value:"flac",label:"FLAC",description:"דחיסה ללא איבוד איכות"},{value:"aac",label:"AAC",description:"איכות גבוהה עם דחיסה יעילה"},{value:"ogg",label:"OGG",description:"פורמט קוד פתוח"},{value:"m4a",label:"M4A",description:"פורמט Apple"}],y=s=>{var g;const l=(g=s.target.files)==null?void 0:g[0];l&&l.type.startsWith("audio/")?(f(l),p(null)):t({title:"שגיאה",description:"אנא בחר קובץ אודיו תקין"})},A=async()=>{if(!a){t({title:"שגיאה",description:"אנא בחר קובץ אודיו קודם"});return}c(!0),t({title:"ממיר...",description:`ממיר ל-${r.toUpperCase()}`});try{await new Promise(l=>setTimeout(l,3e3));const s=new FileReader;s.onload=()=>{p(s.result),c(!1),t({title:"הושלם!",description:"הקובץ הומר בהצלחה"})},s.readAsDataURL(a)}catch{c(!1),t({title:"שגיאה",description:"שגיאה בהמרת הקובץ"})}},S=()=>{if(n&&a){const s=document.createElement("a");s.href=n,s.download=`${a.name.split(".")[0]}.${r}`,s.click(),t({title:"הורד בהצלחה!",description:"הקובץ המומר נשמר"})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(d,{onClick:()=>w("/categories/audio-tools"),variant:"outline",className:"mb-4",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"חזרה לכלי אודיו"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(u,{className:"h-12 w-12 mx-auto mb-4 text-blue-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"ממיר אודיו"}),e.jsx("p",{className:"text-gray-600",children:"המר בין פורמטים שונים של קבצי אודיו"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"קובץ מקור"}),e.jsx(N,{children:"העלה קובץ אודיו להמרה"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsx(R,{type:"file",accept:"audio/*",onChange:y,className:"cursor-pointer"}),a&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded border",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-4 w-4 mr-2 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:a.name})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(a.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"פורמט יעד"}),e.jsxs(D,{value:r,onValueChange:C,children:[e.jsx(I,{children:e.jsx(T,{})}),e.jsx(B,{children:v.map(s=>e.jsx(E,{value:s.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-xs text-gray-500",children:s.description})]})},s.value))})]})]}),e.jsxs(d,{onClick:A,disabled:!a||j,className:"w-full",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),j?"ממיר...":"התחל המרה"]})]})]}),e.jsxs(o,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"קובץ מומר"}),e.jsx(N,{children:"הורד את הקובץ המומר"})]}),e.jsx(h,{children:n?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"h-4 w-4 mr-2 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:[a==null?void 0:a.name.split(".")[0],".",r]})]}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"✓ המרה הושלמה בהצלחה"})]}),e.jsxs(d,{onClick:S,className:"w-full",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"הורד קובץ מומר"]})]}):e.jsxs("div",{className:"h-40 flex flex-col items-center justify-center text-gray-400 border border-dashed rounded",children:[e.jsx(u,{className:"h-8 w-8 mb-2"}),e.jsx("div",{className:"text-sm",children:"הקובץ המומר יופיע כאן"})]})})]})]}),e.jsxs(o,{className:"mt-6",children:[e.jsx(m,{children:e.jsx(x,{children:"פורמטים נתמכים"})}),e.jsx(h,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:v.map(s=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-xs text-gray-600",children:s.description})]},s.value))})})]})]})})};export{K as default};
