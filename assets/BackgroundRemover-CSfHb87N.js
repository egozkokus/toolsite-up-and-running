import{c as _,b as P,u as q,j as e}from"./index-CjcMs8T3.js";import{r as i}from"./vendor-CX2mysxk.js";import{B as g}from"./button-7J-vtqLr.js";import{I as A}from"./input-Sl65HlNB.js";import{C as p,a as u,b as j,c as f,d as b}from"./card-D2uq1LWq.js";import{A as E}from"./arrow-left-Cqdtw2X2.js";import{D as F}from"./download-1AJ-PecF.js";import{I as H}from"./image-DAOeizdb.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=_("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=_("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),V=()=>{const[d,D]=i.useState(null),[o,L]=i.useState(""),[m,N]=i.useState(""),[y,x]=i.useState(!1),w=i.useRef(null),{toast:n}=P(),R=q(),S=s=>{var r;const a=(r=s.target.files)==null?void 0:r[0];if(a&&a.type.startsWith("image/")){D(a),N("");const l=new FileReader;l.onload=c=>{var t;const h=(t=c.target)==null?void 0:t.result;L(h)},l.readAsDataURL(a)}else n({title:"שגיאה",description:"אנא בחר קובץ תמונה תקין"})},B=async()=>{if(!d||!o){n({title:"שגיאה",description:"אנא בחר תמונה קודם"});return}x(!0),n({title:"מעבד...",description:"מסיר רקע מהתמונה (זה יכול לקחת כמה שניות)"});try{const s=w.current,a=s==null?void 0:s.getContext("2d"),r=new Image;r.onload=()=>{if(!s||!a)return;s.width=r.width,s.height=r.height,a.drawImage(r,0,0);const l=a.getImageData(0,0,s.width,s.height),c=l.data;for(let t=0;t<c.length;t+=4){const v=c[t],k=c[t+1],I=c[t+2];(v>200&&k>200&&I>200||v<50&&k<50&&I<50)&&(c[t+3]=0)}a.putImageData(l,0,0);const h=s.toDataURL("image/png");N(h),x(!1),n({title:"הושלם!",description:"הרקע הוסר מהתמונה"})},r.src=o}catch{x(!1),n({title:"שגיאה",description:"שגיאה בעיבוד התמונה"})}},M=()=>{if(m){const s=document.createElement("a");s.href=m,s.download=`no-background-${(d==null?void 0:d.name)||"image.png"}`,s.click(),n({title:"הצלחה!",description:"התמונה ללא רקע הורדה בהצלחה"})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs(g,{onClick:()=>R("/categories/image-tools"),variant:"outline",className:"mb-4",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"חזרה לכלי תמונות"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(C,{className:"h-12 w-12 mx-auto mb-4 text-purple-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"הסרת רקע מתמונות"}),e.jsx("p",{className:"text-gray-600",children:"הסר רקע מתמונות באופן אוטומטי"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs(p,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"העלה תמונה"}),e.jsx(f,{children:"בחר תמונה להסרת רקע"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsx(A,{type:"file",accept:"image/*",onChange:S,className:"cursor-pointer"}),o&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:o,alt:"Original",className:"w-full h-full object-contain"})}),e.jsx(g,{onClick:B,disabled:y,className:"w-full",children:y?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"h-4 w-4 mr-2 animate-spin"}),"מעבד..."]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"הסר רקע"]})})]})]})]}),e.jsxs(p,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"תמונה מעובדת"}),e.jsx(f,{children:"התמונה ללא רקע"})]}),e.jsx(b,{children:m?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square bg-transparent bg-[linear-gradient(45deg,#ccc_25%,transparent_25%),linear-gradient(-45deg,#ccc_25%,transparent_25%),linear-gradient(45deg,transparent_75%,#ccc_75%),linear-gradient(-45deg,transparent_75%,#ccc_75%)] bg-[length:20px_20px] bg-[0_0,0_10px,10px_-10px,-10px_0px] rounded-lg overflow-hidden",children:e.jsx("img",{src:m,alt:"Processed",className:"w-full h-full object-contain"})}),e.jsxs(g,{onClick:M,className:"w-full",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"הורד תמונה"]})]}):e.jsx("div",{className:"aspect-square flex items-center justify-center text-gray-400 border border-dashed rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-2"}),e.jsx("div",{children:"התמונה המעובדת תופיע כאן"})]})})})]}),e.jsxs(p,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"טיפים"}),e.jsx(f,{children:"לקבלת תוצאות טובות יותר"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"טיפים לשימוש:"}),e.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[e.jsx("li",{children:"• השתמש בתמונות באיכות גבוהה"}),e.jsx("li",{children:"• רקע חד ובהיר עובד הכי טוב"}),e.jsx("li",{children:"• הימנע מרקע מורכב"}),e.jsx("li",{children:"• תמונות עם ניגודיות טובה"})]})]}),e.jsxs("div",{className:"p-3 bg-yellow-50 rounded",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"הערה:"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"זוהי גרסת הדגמה פשוטה. לתוצאות מקצועיות, השתמש בכלי AI מתקדמים כמו Remove.bg או Background Eraser."})]})]})]})]}),e.jsx("canvas",{ref:w,style:{display:"none"}})]})})};export{V as default};
