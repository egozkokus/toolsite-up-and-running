import{c as y,j as e,b as T,u as q}from"./index-CjcMs8T3.js";import{r as l}from"./vendor-CX2mysxk.js";import{B as C}from"./button-7J-vtqLr.js";import{I as H}from"./input-Sl65HlNB.js";import{C as k,a as S,b as I,c as R,d as M}from"./card-D2uq1LWq.js";import{S as u}from"./slider-Ckku4-Xs.js";import{P as z}from"./palette-BjtrEkRu.js";import{R as $}from"./rotate-ccw-U-ECwllw.js";import{D as O}from"./download-1AJ-PecF.js";import{A as X}from"./arrow-left-Cqdtw2X2.js";import"./index-yvmUaigQ.js";import"./index-CJs8uJ3c.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=y("Contrast",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=y("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),J=({onFileSelect:t,imagePreview:r})=>e.jsxs(k,{children:[e.jsxs(S,{children:[e.jsx(I,{children:"העלאת תמונה"}),e.jsx(R,{children:"בחר תמונה להתחלת העריכה"})]}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"בחר תמונה"}),e.jsx(H,{type:"file",accept:"image/*",onChange:t,className:"cursor-pointer"})]}),r&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"תצוגה מקדימה מקורית:"}),e.jsx("img",{src:r,alt:"Original",className:"max-w-full h-32 object-contain border rounded"})]})]})]}),K=({brightness:t,setBrightness:r,contrast:i,setContrast:j,saturation:m,setSaturation:p,blur:o,setBlur:f,rotation:d,setRotation:g,onReset:x})=>e.jsxs(k,{children:[e.jsxs(S,{children:[e.jsx(I,{children:"כלי עריכה"}),e.jsx(R,{children:"התאם את הפילטרים והאפקטים"})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-sm font-medium mb-2",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"בהירות: ",t[0],"%"]}),e.jsx(u,{value:t,onValueChange:r,max:200,min:0,step:1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-sm font-medium mb-2",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"ניגודיות: ",i[0],"%"]}),e.jsx(u,{value:i,onValueChange:j,max:200,min:0,step:1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-sm font-medium mb-2",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"רוויה: ",m[0],"%"]}),e.jsx(u,{value:m,onValueChange:p,max:200,min:0,step:1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-sm font-medium mb-2",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"טשטוש: ",o[0],"px"]}),e.jsx(u,{value:o,onValueChange:f,max:10,min:0,step:.1,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-sm font-medium mb-2",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"סיבוב: ",d[0],"°"]}),e.jsx(u,{value:d,onValueChange:g,max:360,min:0,step:1,className:"w-full"})]}),e.jsxs(C,{onClick:x,variant:"outline",className:"w-full",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"איפוס פילטרים"]})]})]}),Q=({editedImage:t,onDownload:r})=>e.jsxs(k,{children:[e.jsxs(S,{children:[e.jsx(I,{children:"תוצאה ערוכה"}),e.jsx(R,{children:"תצוגה מקדימה והורדה של התמונה הערוכה"})]}),e.jsx(M,{className:"space-y-4",children:t?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:t,alt:"Edited",className:"max-w-full h-auto border rounded"}),e.jsxs(C,{onClick:r,className:"w-full",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"הורד תמונה ערוכה"]})]}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 border border-dashed rounded",children:"התמונה הערוכה תופיע כאן"})})]}),de=()=>{const[t,r]=l.useState(null),[i,j]=l.useState(""),[m,p]=l.useState([100]),[o,f]=l.useState([100]),[d,g]=l.useState([100]),[x,E]=l.useState([0]),[b,D]=l.useState([0]),[N,A]=l.useState(""),F=l.useRef(null),{toast:P}=T(),B=q(),L=n=>{var a;const s=(a=n.target.files)==null?void 0:a[0];if(s&&s.type.startsWith("image/")){r(s),j("");const c=new FileReader;c.onload=w=>{var v;const h=(v=w.target)==null?void 0:v.result;A(h),V(h)},c.readAsDataURL(s)}else P({title:"שגיאה",description:"אנא בחר קובץ תמונה תקין"})},V=(n=N)=>{if(!n)return;const s=F.current,a=s==null?void 0:s.getContext("2d"),c=new window.Image;c.onload=()=>{if(!s||!a)return;s.width=c.width,s.height=c.height;const w=s.width/2,h=s.height/2;a.save(),a.translate(w,h),a.rotate(b[0]*Math.PI/180),a.translate(-w,-h),a.filter=`
        brightness(${m[0]}%)
        contrast(${o[0]}%)
        saturate(${d[0]}%)
        blur(${x[0]}px)
      `,a.drawImage(c,0,0),a.restore();const v=s.toDataURL("image/png");j(v)},c.src=n};l.useEffect(()=>{N&&V()},[m,o,d,x,b,N]);const U=()=>{p([100]),f([100]),g([100]),E([0]),D([0])},W=()=>{if(i){const n=document.createElement("a");n.href=i,n.download=`edited_${(t==null?void 0:t.name)||"image.png"}`,n.click(),P({title:"הצלחה!",description:"התמונה הערוכה הורדה בהצלחה"})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs(C,{onClick:()=>B("/categories/image-tools"),variant:"outline",className:"mb-4",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"חזרה לכלי תמונות"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(z,{className:"h-12 w-12 mx-auto mb-4 text-purple-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"עורך תמונות מתקדם"}),e.jsx("p",{className:"text-gray-600",children:"ערוך תמונות עם פילטרים ואפקטים מתקדמים"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx(J,{onFileSelect:L,imagePreview:N}),e.jsx(K,{brightness:m,setBrightness:p,contrast:o,setContrast:f,saturation:d,setSaturation:g,blur:x,setBlur:E,rotation:b,setRotation:D,onReset:U}),e.jsx(Q,{editedImage:i,onDownload:W})]}),e.jsx("canvas",{ref:F,style:{display:"none"}})]})})};export{de as default};
