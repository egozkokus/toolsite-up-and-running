import{b as S,u as y,j as e}from"./index-CjcMs8T3.js";import{r as n}from"./vendor-CX2mysxk.js";import{B as c}from"./button-7J-vtqLr.js";import{I as k}from"./input-Sl65HlNB.js";import{S as U,a as D,b as E,c as F,d as P}from"./select-C5VgsRWt.js";import{C as d,a as x,b as h,c as g,d as p}from"./card-D2uq1LWq.js";import{A as T}from"./arrow-left-Cqdtw2X2.js";import{I as L}from"./image-DAOeizdb.js";import{U as R}from"./upload-eVVNaMx6.js";import{D as $}from"./download-1AJ-PecF.js";import"./check-CsUbEkEW.js";const K=()=>{const[r,u]=n.useState(null),[o,i]=n.useState(""),[l,j]=n.useState("jpeg"),{toast:m}=S(),v=y(),f=[{value:"jpeg",label:"JPEG"},{value:"png",label:"PNG"},{value:"webp",label:"WebP"}],b=a=>{var t;const s=(t=a.target.files)==null?void 0:t[0];s&&s.type.startsWith("image/")?(u(s),i("")):m({title:"Error",description:"Please select a valid image file"})},C=()=>{if(!r)return;const a=document.createElement("canvas"),s=a.getContext("2d"),t=new window.Image;t.onload=()=>{a.width=t.width,a.height=t.height,s==null||s.drawImage(t,0,0);const N=`image/${l}`,I=a.toDataURL(N,.9);i(I),m({title:"Success!",description:`Image converted to ${l.toUpperCase()}`})},t.src=URL.createObjectURL(r)},w=()=>{var a;if(o){const s=document.createElement("a");s.href=o;const t=l==="jpeg"?"jpg":l;s.download=`converted_${((a=r==null?void 0:r.name)==null?void 0:a.split(".")[0])||"image"}.${t}`,s.click()}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(c,{onClick:()=>v("/categories/image-tools"),variant:"outline",className:"mb-4",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Back to Image Tools"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(L,{className:"h-12 w-12 mx-auto mb-4 text-purple-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Image Format Converter"}),e.jsx("p",{className:"text-gray-600",children:"Convert images between different formats"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Upload & Convert"}),e.jsx(g,{children:"Select an image and choose output format"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Image"}),e.jsx(k,{type:"file",accept:"image/*",onChange:b,className:"cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Output Format"}),e.jsxs(U,{value:l,onValueChange:j,children:[e.jsx(D,{children:e.jsx(E,{placeholder:"Select format"})}),e.jsx(F,{children:f.map(a=>e.jsx(P,{value:a.value,children:a.label},a.value))})]})]}),r&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Input:"})," ",r.name," (",r.type,")"]}),e.jsxs(c,{onClick:C,disabled:!r,className:"w-full",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Convert Image"]})]})]}),e.jsxs(d,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Converted Image"}),e.jsx(g,{children:"Preview and download converted image"})]}),e.jsx(p,{className:"space-y-4",children:o?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:o,alt:"Converted",className:"max-w-full h-auto border rounded"}),e.jsxs(c,{onClick:w,className:"w-full",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Download Converted Image"]})]}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 border border-dashed rounded",children:"Converted image will appear here"})})]})]})]})})};export{K as default};
