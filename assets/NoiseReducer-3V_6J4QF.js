import{b as I,u as A,j as e}from"./index-CjcMs8T3.js";import{r as t}from"./vendor-CX2mysxk.js";import{B as m}from"./button-7J-vtqLr.js";import{I as D}from"./input-Sl65HlNB.js";import{C as o,a as x,b as h,c as w,d as u}from"./card-D2uq1LWq.js";import{S as E}from"./slider-Ckku4-Xs.js";import{A as _}from"./arrow-left-Cqdtw2X2.js";import{S as p}from"./shield-check-BfClY1x1.js";import{V as B}from"./volume-2-DvzRStkB.js";import{P as T}from"./pause-ozMzQm9i.js";import{P as U}from"./play-CbDzydzd.js";import{D as y}from"./download-1AJ-PecF.js";import"./index-yvmUaigQ.js";import"./index-CJs8uJ3c.js";const ee=()=>{const[l,C]=t.useState(null),[r,P]=t.useState([50]),[g,j]=t.useState(!1),[c,b]=t.useState(null),[n,f]=t.useState(!1),d=t.useRef(null),{toast:a}=I(),R=A(),k=s=>{var v;const i=(v=s.target.files)==null?void 0:v[0];i&&i.type.startsWith("audio/")?(C(i),b(null),f(!1)):a({title:"שגיאה",description:"אנא בחר קובץ אודיו תקין"})},S=()=>{d.current&&(n?d.current.pause():d.current.play(),f(!n))},L=async()=>{if(!l){a({title:"שגיאה",description:"אנא בחר קובץ אודיו קודם"});return}j(!0),a({title:"מעבד...",description:"מסיר רעש מהקובץ"});try{await new Promise(i=>setTimeout(i,4e3));const s=new FileReader;s.onload=()=>{b(s.result),j(!1),a({title:"הושלם!",description:`רעש הוסר ברמה של ${r[0]}%`})},s.readAsDataURL(l)}catch{j(!1),a({title:"שגיאה",description:"שגיאה בעיבוד הקובץ"})}},F=()=>{if(c&&l){const s=document.createElement("a");s.href=c,s.download=`noise_reduced_${l.name}`,s.click(),a({title:"הורד בהצלחה!",description:"הקובץ הנקי מרעש נשמר"})}},N=(s=>s<30?{label:"קל",color:"text-green-600",desc:"הסרת רעש בסיסית"}:s<70?{label:"בינוני",color:"text-yellow-600",desc:"הסרת רעש סטנדרטית"}:{label:"חזק",color:"text-red-600",desc:"הסרת רעש אגרסיבית"})(r[0]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(m,{onClick:()=>R("/categories/audio-tools"),variant:"outline",className:"mb-4",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"חזרה לכלי אודיו"]}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(p,{className:"h-12 w-12 mx-auto mb-4 text-orange-600"}),e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"מסיר רעש"}),e.jsx("p",{className:"text-gray-600",children:"הסר רעש רקע ושפר איכות אודיו"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"קובץ מקור"}),e.jsx(w,{children:"העלה קובץ אודיו להסרת רעש"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsx(D,{type:"file",accept:"audio/*",onChange:k,className:"cursor-pointer"}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded border",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"h-4 w-4 mr-2 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium",children:l.name})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(l.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx("audio",{ref:d,src:URL.createObjectURL(l),onEnded:()=>f(!1)}),e.jsxs(m,{onClick:S,variant:"outline",className:"w-full",children:[n?e.jsx(T,{className:"h-4 w-4 mr-2"}):e.jsx(U,{className:"h-4 w-4 mr-2"}),n?"עצור נגינה":"נגן קובץ מקור"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"עוצמת הסרת רעש"}),e.jsx("span",{className:`text-sm font-medium ${N.color}`,children:N.label})]}),e.jsx(E,{value:r,onValueChange:P,max:90,min:10,step:5,className:"mb-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"קל"}),e.jsxs("span",{children:[r[0],"%"]}),e.jsx("span",{children:"חזק"})]}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:N.desc})]}),e.jsxs(m,{onClick:L,disabled:!l||g,className:"w-full",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),g?"מעבד...":"הסר רעש"]})]})]}),e.jsxs(o,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"קובץ מעובד"}),e.jsx(w,{children:"תוצאת הסרת הרעש"})]}),e.jsx(u,{children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded border border-green-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-4 w-4 mr-2 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:["noise_reduced_",l==null?void 0:l.name]})]}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["✓ רעש הוסר ברמה של ",r[0],"%"]})]}),e.jsx("audio",{src:c,controls:!0,className:"w-full"}),e.jsxs(m,{onClick:F,className:"w-full",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"הורד קובץ נקי מרעש"]})]}):e.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-400 border border-dashed rounded",children:[e.jsx(p,{className:"h-12 w-12 mb-2"}),e.jsx("div",{children:"הקובץ הנקי מרעש יופיע כאן"})]})})]})]}),e.jsxs(o,{className:"mt-6",children:[e.jsx(x,{children:e.jsx(h,{children:"סוגי רעש שניתן להסיר"})}),e.jsx(u,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"רעש סביבתי"}),e.jsx("div",{className:"text-blue-700",children:"מזגן, מאוורר, תנועה"})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"רעש אלקטרוני"}),e.jsx("div",{className:"text-green-700",children:"זמזום, צפצופים, הפרעות"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded",children:[e.jsx("div",{className:"font-medium text-purple-800 mb-1",children:"רעש רקע"}),e.jsx("div",{className:"text-purple-700",children:"דיבורים רחוקים, הדהודים"})]})]})})]}),e.jsxs(o,{className:"mt-6",children:[e.jsx(x,{children:e.jsx(h,{children:"טיפים לתוצאות מיטביות"})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),e.jsx("div",{children:"התחל עם רמת הסרת רעש נמוכה והגבר בהדרגה"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),e.jsx("div",{children:"רמה גבוהה מדי עלולה לפגוע באיכות הקול הרצוי"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-2 flex-shrink-0"}),e.jsx("div",{children:"האזן לתוצאה לפני ההורדה כדי לוודא שהתוצאה מספקת"})]})]})})]})]})})};export{ee as default};
